(()=>{"use strict";var e,t={4246:(e,t,o)=>{e.exports=o.p+"assets/packed/TapToStart.bfd5.mp3"}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var c=o[e]={exports:{}};return t[e](c,c.exports,r),c.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"})(),e=r(4246),window.addEventListener("DOMContentLoaded",(()=>{fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e);document.querySelector("audio#testAudio").src=t})),fetch("https://api.github.com/repos/HanHan233/PhiCommunity/commits").then((e=>e.json())).then((e=>{const t=document.querySelector("div#changelogContainer");e.forEach((e=>{const o=document.createElement("a");o.classList.add("item"),o.href=e.html_url,o.setAttribute("data-sha",e.sha.slice(0,7)),o.innerText=e.commit.message,t.appendChild(o)}))}));const t=document.querySelector("#installPWA");t.style.display="none",window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),t.style.display="unset",t.addEventListener("click",(()=>{e.prompt(),e.userChoice.then((e=>{"accepted"===e.outcome?console.log("准备添加到主屏幕"):console.log("用户拒绝了添加到主屏幕")}))}))})),document.querySelector("button#go").addEventListener("click",(()=>{location.href="./tapToStart/index.html"})),document.querySelector("button#gotoCFPages").addEventListener("click",(()=>{location.href="https://cf.phicommunity.com.cn"})),document.querySelector("button#gotoGHPages").addEventListener("click",(()=>{location.href="https://phicommunity.com.cn"})),location.href.match("cf")?document.querySelector("button#gotoCFPages").style.display="none":location.href.match("vercel")?document.querySelector("button#gotoVercel").style.display="none":document.querySelector("button#gotoGHPages").style.display="none",document.querySelector("button#ghRepo").addEventListener("click",(()=>{window.open("https://github.com/HanHan233/PhiCommunity")})),document.querySelector("button#deviceReq").addEventListener("click",(()=>{document.querySelector("div#devRequirementPopupoverlay").classList.add("show")})),document.querySelector("div#devRequirementPopupoverlay").addEventListener("click",(e=>{e.target!=document.querySelector("#devReq")&&document.querySelector("div#devRequirementPopupoverlay").classList.remove("show")})),document.querySelector("button#changeLog").addEventListener("click",(()=>{document.querySelector("div#changeLogContainerPopupOverlay").classList.add("show")})),document.querySelector("div#changeLogContainerPopupOverlay").addEventListener("click",(e=>{e.target!=document.querySelector("#changelogContainer")&&document.querySelector("div#changeLogContainerPopupOverlay").classList.remove("show")})),document.querySelector("button#ContactUs").addEventListener("click",(()=>{document.querySelector("div#ContactUsPopupOverlay").classList.add("show")})),document.querySelector("div#ContactUsPopupOverlay").addEventListener("click",(e=>{e.target!=document.querySelector("#ContactUs")&&document.querySelector("div#ContactUsPopupOverlay").classList.remove("show")}))})),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.js").then((e=>{console.log("SW registered: ",e)})).catch((e=>{console.log("SW registration failed: ",e)}))}))})();